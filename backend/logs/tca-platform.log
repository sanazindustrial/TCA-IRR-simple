{"timestamp": "2025-11-07T04:49:50.934428", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:49:50.935426", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:49:50.935426", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:49:50.936428", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:49:50.940427", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:49:50.941428", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:49:50.942427", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:49:50.943425", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:50:09.503065", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:50:09.503065", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:50:09.504066", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:50:09.504066", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:50:09.507947", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:50:09.508475", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:50:09.508475", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:50:09.509588", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:50:25.755478", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:50:25.756465", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:50:25.756465", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:50:25.756465", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:50:25.758461", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:50:25.759464", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:50:25.759464", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:50:25.759464", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:50:25.808627", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T04:50:27.418007", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T04:50:30.686732", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T04:51:00.199994", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T04:51:17.357916", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:51:17.359402", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:51:17.359402", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:51:17.360480", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:51:17.365886", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:51:17.367885", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:51:17.367885", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:51:17.368884", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:51:17.435635", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T04:51:18.807947", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T04:51:21.962320", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T04:51:37.171257", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T04:52:00.429710", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:52:00.430701", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:52:00.430701", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:52:00.432071", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:52:00.435446", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:52:00.435446", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:52:00.436449", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:52:00.437446", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:52:00.513315", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T04:52:02.020097", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T04:52:05.198942", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T04:52:43.398364", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T04:53:08.791766", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:53:08.793412", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:53:08.794426", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:53:08.794426", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:53:08.796864", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:53:08.797963", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:53:08.797963", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:53:08.798959", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:53:08.891929", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.004s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T04:53:11.897296", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T04:53:11.897296", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 2.994s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T04:56:40.096935", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:56:40.097475", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:56:40.098014", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:56:40.098014", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:56:40.100195", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:56:40.101208", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:56:40.101208", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:56:40.102222", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:58:09.509925", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:58:09.510926", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:58:09.510926", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:58:09.510926", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:58:09.514605", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:58:09.515999", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:58:09.515999", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:58:09.517000", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:59:58.157963", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:59:58.158998", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:59:58.158998", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:59:58.161686", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:59:58.164164", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T04:59:58.165292", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T04:59:58.165292", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T04:59:58.165292", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T04:59:58.240281", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.287584", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T05:00:01.287584", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 3.039s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.499338", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/login: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/login", "process_time": 0.0014951229095458984}
{"timestamp": "2025-11-07T05:00:01.681352", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/register: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/register", "process_time": 0.0}
{"timestamp": "2025-11-07T05:00:01.704780", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/auth/me: Object of type datetime is not JSON serializable", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\main.py\", line 122, in http_exception_handler\n    return JSONResponse(status_code=exc.status_code,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type datetime is not JSON serializable", "method": "GET", "url": "http://testserver/api/v1/auth/me", "process_time": 0.0017971992492675781}
{"timestamp": "2025-11-07T05:00:01.730806", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.741369", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/companies/", "process_time": 0.0}
{"timestamp": "2025-11-07T05:00:01.768945", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.780136", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/companies/", "process_time": 0.0010006427764892578}
{"timestamp": "2025-11-07T05:00:01.805827", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/analysis/comprehensive - 404 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.813765", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 404 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.820551", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 404 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.828054", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/dashboard/stats - 404 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.834471", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/tca/system-status - 404 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:00:01.844290", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/admin/health: Object of type datetime is not JSON serializable", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\main.py\", line 122, in http_exception_handler\n    return JSONResponse(status_code=exc.status_code,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type datetime is not JSON serializable", "method": "GET", "url": "http://testserver/api/v1/admin/health", "process_time": 0.0007371902465820312}
{"timestamp": "2025-11-07T05:00:01.869131", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/admin/system-status: Object of type datetime is not JSON serializable", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\main.py\", line 122, in http_exception_handler\n    return JSONResponse(status_code=exc.status_code,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type datetime is not JSON serializable", "method": "GET", "url": "http://testserver/api/v1/admin/system-status", "process_time": 0.0}
{"timestamp": "2025-11-07T05:12:53.617360", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T05:12:53.620631", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T05:12:53.622434", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T05:12:53.622941", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T05:12:53.625943", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T05:12:53.627962", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T05:12:53.627962", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T05:12:53.627962", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T05:12:53.729701", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:12:56.889297", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T05:12:56.906386", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 3.166s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:12:57.219956", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/login: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/login", "process_time": 0.0020117759704589844}
{"timestamp": "2025-11-07T05:12:57.398649", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/register: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/register", "process_time": 0.002089262008666992}
{"timestamp": "2025-11-07T05:12:57.471557", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/auth/me: Object of type datetime is not JSON serializable", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\main.py\", line 122, in http_exception_handler\n    return JSONResponse(status_code=exc.status_code,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type datetime is not JSON serializable", "method": "GET", "url": "http://testserver/api/v1/auth/me", "process_time": 0.006034135818481445}
{"timestamp": "2025-11-07T05:12:57.532381", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:12:57.543366", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/companies/", "process_time": 0.0}
{"timestamp": "2025-11-07T05:12:57.578545", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:12:57.592744", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/companies/", "process_time": 0.0010111331939697266}
{"timestamp": "2025-11-07T05:12:57.623653", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/analysis/comprehensive - 404 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:12:57.633593", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.004s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:12:57.639699", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 30}
{"timestamp": "2025-11-07T05:12:57.654107", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/dashboard/stats: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/dashboard/stats", "process_time": 0.0}
{"timestamp": "2025-11-07T05:12:57.686073", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/tca/system-status: Database not connected", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/tca/system-status", "process_time": 0.0}
{"timestamp": "2025-11-07T05:12:57.719698", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/admin/health: Object of type datetime is not JSON serializable", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\main.py\", line 122, in http_exception_handler\n    return JSONResponse(status_code=exc.status_code,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type datetime is not JSON serializable", "method": "GET", "url": "http://testserver/api/v1/admin/health", "process_time": 0.0022830963134765625}
{"timestamp": "2025-11-07T05:12:57.747607", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/admin/system-status: Object of type datetime is not JSON serializable", "module": "error_handling", "function": "dispatch", "line": 40, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 26, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\main.py\", line 122, in http_exception_handler\n    return JSONResponse(status_code=exc.status_code,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type datetime is not JSON serializable", "method": "GET", "url": "http://testserver/api/v1/admin/system-status", "process_time": 0.0}
{"timestamp": "2025-11-07T05:18:09.314079", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T05:18:09.315280", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T05:18:09.315280", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T05:18:09.317672", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T05:18:09.321987", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T05:18:09.322981", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T05:18:09.322981", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T05:18:09.324357", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T05:18:09.456572", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.709078", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T05:18:12.710243", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 3.243s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.730141", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/login: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/login", "process_time": 0.002143383026123047}
{"timestamp": "2025-11-07T05:18:12.756169", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/register: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/register", "process_time": 0.0012454986572265625}
{"timestamp": "2025-11-07T05:18:12.774069", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/auth/me - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.784266", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.794468", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/companies/", "process_time": 0.0009996891021728516}
{"timestamp": "2025-11-07T05:18:12.812641", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.827078", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/companies/", "process_time": 0.0009999275207519531}
{"timestamp": "2025-11-07T05:18:12.850773", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/analysis/comprehensive - 404 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.860019", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.869607", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.880674", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/dashboard/stats: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/dashboard/stats", "process_time": 0.0}
{"timestamp": "2025-11-07T05:18:12.903503", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/tca/system-status: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/tca/system-status", "process_time": 0.0014133453369140625}
{"timestamp": "2025-11-07T05:18:12.924083", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/health - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:18:12.932257", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/system-status - 403 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:30.090182", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T05:24:30.091648", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T05:24:30.091648", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T05:24:30.091648", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T05:24:30.096114", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T05:24:30.097190", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T05:24:30.097190", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T05:24:30.098579", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T05:24:30.199602", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.501871", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T05:24:33.502958", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 3.294s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.521302", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/login: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/login", "process_time": 0.0010728836059570312}
{"timestamp": "2025-11-07T05:24:33.543135", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/register: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/register", "process_time": 0.0020020008087158203}
{"timestamp": "2025-11-07T05:24:33.566519", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/auth/me - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.574558", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.583866", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/companies/", "process_time": 0.0}
{"timestamp": "2025-11-07T05:24:33.600806", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.612884", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/companies/", "process_time": 0.001001119613647461}
{"timestamp": "2025-11-07T05:24:33.631757", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/analysis/comprehensive - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.639988", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.648432", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.657513", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/dashboard/stats - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.666949", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/tca/system-status: Database not connected", "module": "error_handling", "function": "dispatch", "line": 54, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 40, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/tca/system-status", "process_time": 0.0}
{"timestamp": "2025-11-07T05:24:33.687420", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/health - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T05:24:33.695575", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/system-status - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 44}
{"timestamp": "2025-11-07T06:34:35.899856", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:34:35.900852", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:34:35.901857", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:34:35.901857", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:34:35.905874", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:34:35.907886", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:34:35.908887", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:34:35.908887", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:34:36.014588", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:38.977286", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T06:34:38.977286", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 2.953s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.011196", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/login: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/login", "process_time": 0.0019998550415039062}
{"timestamp": "2025-11-07T06:34:39.035687", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/register: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/register", "process_time": 0.0022058486938476562}
{"timestamp": "2025-11-07T06:34:39.057381", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/auth/me - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.067620", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.086147", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/companies/", "process_time": 0.0005090236663818359}
{"timestamp": "2025-11-07T06:34:39.108108", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.123064", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/companies/", "process_time": 0.0016236305236816406}
{"timestamp": "2025-11-07T06:34:39.144454", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/analysis/comprehensive - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.153850", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.161824", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.172786", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/dashboard/stats - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.183515", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/tca/system-status: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/tca/system-status", "process_time": 0.0010135173797607422}
{"timestamp": "2025-11-07T06:34:39.204692", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/health - 403 - 0.003s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:34:39.212555", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/system-status - 403 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:36.382300", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:37:36.382300", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:37:36.382300", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:37:36.382300", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:37:36.389969", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:37:36.389969", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:37:36.390968", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:37:36.391968", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:37:50.108118", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:37:50.108118", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:37:50.108118", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:37:50.108118", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:37:50.116678", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:37:50.116678", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:37:50.116678", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:37:50.116678", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:37:50.209381", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.204820", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T06:37:53.205863", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 2.987s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.216690", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/login: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/login", "process_time": 0.0}
{"timestamp": "2025-11-07T06:37:53.229959", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/auth/register: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/auth/register", "process_time": 0.0023207664489746094}
{"timestamp": "2025-11-07T06:37:53.244862", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/auth/me - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.249748", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.257140", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/companies/", "process_time": 0.0}
{"timestamp": "2025-11-07T06:37:53.267356", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.007s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.275551", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in POST http://testserver/api/v1/companies/: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "POST", "url": "http://testserver/api/v1/companies/", "process_time": 0.0010106563568115234}
{"timestamp": "2025-11-07T06:37:53.287864", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/analysis/comprehensive - 403 - 0.008s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.294147", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.296321", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.306062", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/dashboard/stats - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.314350", "level": "ERROR", "logger": "app.middleware.error_handling", "message": "Unhandled exception in GET http://testserver/api/v1/tca/system-status: Database not connected", "module": "error_handling", "function": "dispatch", "line": 52, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 91, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\middleware\\error_handling.py\", line 38, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 634, in solve_dependencies\n    solved = await solve_generator(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\fastapi\\dependencies\\utils.py\", line 560, in solve_generator\n    return await stack.enter_async_context(cm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 659, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 191, in get_db\n    async with db_manager.get_connection() as conn:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Allot\\OneDrive\\Desktop\\TCA-IRR-APP-main- simplify\\backend\\app\\db\\database.py\", line 88, in get_connection\n    raise ConnectionError(\"Database not connected\")\nConnectionError: Database not connected", "method": "GET", "url": "http://testserver/api/v1/tca/system-status", "process_time": 0.0010008811950683594}
{"timestamp": "2025-11-07T06:37:53.330712", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/health - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:37:53.336443", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/system-status - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:38:58.714713", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:38:58.714713", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:38:58.715714", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:38:58.716712", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:38:58.719072", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:38:58.720074", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:38:58.720074", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:38:58.721074", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:38:58.846166", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.851607", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T06:39:01.852617", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 2.999s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.866114", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/auth/login - 422 - 0.004s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.879810", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/auth/register - 422 - 0.007s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.888850", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/auth/me - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.896256", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.909058", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies/ - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.916108", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.926576", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies/ - 403 - 0.005s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.936126", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/analysis/comprehensive - 403 - 0.003s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.946735", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.954735", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.964223", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/dashboard/stats - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.971127", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/tca/system-status - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.980837", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/health - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:39:01.988592", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/system-status - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:40:35.662435", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:40:35.663455", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:40:35.664456", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:40:35.664456", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:40:35.667457", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:40:35.668456", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:40:35.668456", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:40:35.670457", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:40:35.786907", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:40:38.765036", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T06:40:38.767839", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 2.970s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:30.555880", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:41:30.556880", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:41:30.556880", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:41:30.558293", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:41:30.560290", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:41:30.561322", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:41:30.561322", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:41:30.562345", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:41:30.666456", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:33.678470", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T06:41:33.678470", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 3.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.096262", "level": "WARNING", "logger": "app.api.v1.endpoints.auth", "message": "Failed login attempt for user: testuser", "module": "auth", "function": "login", "line": 100}
{"timestamp": "2025-11-07T06:41:34.097423", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/auth/login - 401 - 0.409s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.123793", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/auth/register - 422 - 0.019s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.133811", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/auth/me - 403 - 0.003s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.143062", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.159750", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies/ - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.168690", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.176690", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies/ - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.186305", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/analysis/comprehensive - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.192844", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.200419", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.208793", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/dashboard/stats - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.217251", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/tca/system-status - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.225180", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/health - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:41:34.233793", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/system-status - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:13.688907", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:43:13.690071", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:43:13.691222", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:43:13.691222", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:43:13.693482", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T06:43:13.695155", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T06:43:13.695155", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T06:43:13.696165", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T06:43:13.808159", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/ - 200 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:16.813211", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T06:43:16.813211", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/health - 200 - 2.997s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.251080", "level": "INFO", "logger": "app.api.v1.endpoints.auth", "message": "Successful login for user: testuser", "module": "auth", "function": "login", "line": 122}
{"timestamp": "2025-11-07T06:43:17.251080", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/auth/login - 200 - 0.427s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.261928", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/auth/register - 400 - 0.009s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.270962", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/auth/me - 403 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.277371", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies - 307 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.281122", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/companies/ - 403 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.289884", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies - 307 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.293257", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/companies/ - 403 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.316577", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/analysis/comprehensive - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.324092", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/quick - 405 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.330619", "level": "INFO", "logger": "app.middleware.error_handling", "message": "POST http://testserver/api/v1/tca/sector-analysis - 405 - 0.000s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.339284", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/dashboard/stats - 403 - 0.002s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.346256", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/tca/system-status - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.354311", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/health - 403 - 0.005s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T06:43:17.360879", "level": "INFO", "logger": "app.middleware.error_handling", "message": "GET http://testserver/api/v1/admin/system-status - 403 - 0.001s", "module": "error_handling", "function": "dispatch", "line": 42}
{"timestamp": "2025-11-07T13:05:01.619304", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:05:01.619304", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:05:01.621429", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:05:01.621429", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:05:01.622946", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:05:01.622946", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:05:01.624078", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:05:01.624078", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:05:01.655771", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:05:05.864898", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:05:08.907116", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:16:54.031817", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:16:56.723251", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:16:56.724419", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:16:56.724419", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:16:56.724419", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:16:56.728437", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:16:56.728437", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:16:56.728437", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:16:56.730543", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:16:56.799156", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:16:59.340233", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:17:02.443938", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:20:21.599078", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:20:26.520824", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:20:26.522902", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:20:26.524509", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:20:26.524509", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:20:26.524509", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:20:26.524509", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:20:26.524509", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:20:26.531057", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:20:26.639505", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:20:29.061510", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:20:32.487384", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:24:14.732694", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:24:14.732694", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:24:14.732694", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:24:14.732694", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:24:14.737343", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:24:14.737343", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:24:14.737343", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:24:14.737343", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:24:14.810619", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:24:16.213768", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:24:19.342760", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:24:52.895483", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:25:12.418607", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:25:12.418607", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:25:12.418607", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:25:12.418607", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:25:12.424456", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:25:12.426469", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:25:12.426977", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:25:12.426977", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:25:12.511603", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:25:15.625889", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:25:18.700953", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:25:51.970124", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:27:18.472786", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:27:18.474796", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:27:18.474796", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:27:18.474796", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:27:18.476806", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:27:18.478558", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:27:18.478558", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:27:18.478558", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:27:18.543193", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:27:21.018395", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:27:25.157225", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:28:05.445858", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:30:23.409276", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:30:27.002520", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:30:27.003650", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:30:27.003650", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:30:27.005599", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:30:27.008120", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:30:27.008120", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:30:27.008120", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:30:27.008120", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:30:27.138536", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:30:29.302768", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:30:32.704807", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:32:05.887310", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:32:05.888414", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:32:05.889247", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:32:05.889757", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:32:05.894930", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:32:05.895438", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:32:05.895973", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:32:05.895973", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:32:05.969599", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:32:08.745279", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:32:11.793411", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:32:40.129014", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:33:39.220427", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:33:39.222438", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:33:39.222438", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:33:39.222438", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:33:39.226022", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:33:39.226022", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:33:39.226022", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:33:39.226022", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:33:39.284550", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:33:44.587490", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:33:47.597543", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:34:16.548138", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:35:24.150812", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T13:35:29.629570", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:35:29.629570", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:35:29.631585", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:35:29.631585", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:35:29.637683", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T13:35:29.638194", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T13:35:29.638194", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T13:35:29.640219", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T13:35:29.811584", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T13:35:32.495247", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T13:35:36.782235", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 215}
{"timestamp": "2025-11-07T13:39:50.205804", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:01:33.536815", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:01:33.538815", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:01:33.540079", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:01:33.541077", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:01:33.545079", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:01:33.550079", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:01:33.552081", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:01:33.556077", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:01:33.624360", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:01:33.626359", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:01:33.627362", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:01:33.629362", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:01:33.641624", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:01:33.652159", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:01:33.660157", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:01:33.663158", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:01:33.696671", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:01:33.778153", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:01:35.709765", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:01:35.729408", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:01:40.097384", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 292}
{"timestamp": "2025-11-07T14:01:40.142406", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 292}
{"timestamp": "2025-11-07T14:03:30.093396", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:03:30.095397", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:03:30.096395", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:03:30.096395", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:03:30.102670", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:03:30.102670", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:03:30.104670", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:03:30.105669", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:03:30.227876", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:03:31.949000", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:03:35.490211", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 292}
{"timestamp": "2025-11-07T14:11:28.026215", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:11:28.104553", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:11:33.931795", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:11:33.940225", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:11:33.942226", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:11:33.942738", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:11:33.948757", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:11:33.960032", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:11:33.962029", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:11:33.972617", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:11:34.181443", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:11:34.182458", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:11:34.184564", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:11:34.187819", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:11:34.194820", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:11:34.204526", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:11:34.213526", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:11:34.218061", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:11:34.231093", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:11:34.530803", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:11:36.215548", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:11:36.377099", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:11:40.386123", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 332}
{"timestamp": "2025-11-07T14:11:40.653873", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 332}
{"timestamp": "2025-11-07T14:13:04.220406", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:13:09.740798", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:13:09.756822", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:13:09.758743", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:13:09.789923", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:13:09.829633", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:13:09.835152", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:13:09.840430", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:13:09.841908", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:13:09.964058", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:13:11.666465", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:13:15.117065", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 332}
{"timestamp": "2025-11-07T14:38:04.423091", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:38:09.363959", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:38:09.363959", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:38:09.363959", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:38:09.365969", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:38:09.371118", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:38:09.372117", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:38:09.372117", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:38:09.374130", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:38:09.539146", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:38:11.113105", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:38:14.672940", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 332}
{"timestamp": "2025-11-07T14:43:05.718648", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:43:10.290707", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:43:10.290707", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:43:10.294729", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:43:10.294729", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:43:10.298753", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:43:10.298753", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:43:10.301757", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:43:10.301757", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:43:10.391547", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:43:11.882681", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:43:15.094268", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 335}
{"timestamp": "2025-11-07T14:44:51.878395", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:44:52.000208", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:44:52.001209", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:45:03.016493", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:45:03.032344", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:45:03.041087", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:45:03.046086", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:45:03.059347", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:45:03.062346", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:45:03.063346", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:45:03.077114", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:45:03.524613", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:45:05.867868", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:45:06.025303", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:45:06.056174", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:45:06.075432", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:45:06.110932", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:45:06.156642", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:45:06.192193", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:45:06.207429", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:45:06.219282", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:45:06.225282", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:45:06.250895", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:45:06.269898", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:45:06.302474", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:45:06.362678", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:45:06.415752", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:45:06.476952", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:45:06.502792", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:45:06.562406", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:45:06.787719", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:45:08.556322", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:45:08.677756", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:45:10.049007", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 335}
{"timestamp": "2025-11-07T14:45:13.009886", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 335}
{"timestamp": "2025-11-07T14:45:13.057193", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 335}
{"timestamp": "2025-11-07T14:49:53.880717", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:49:54.463528", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:49:54.670335", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T14:50:01.922758", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:50:01.924621", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:50:01.925222", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:50:01.925833", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:50:01.930712", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:50:01.931307", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:50:01.932014", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:50:01.932611", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:50:01.934996", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:50:01.936192", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:50:01.939214", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:50:01.941719", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:50:01.946942", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:50:01.950686", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:50:01.961606", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:50:01.969625", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:50:02.095719", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:50:02.139073", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:50:02.715516", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:50:02.717259", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:50:02.718388", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:50:02.723840", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:50:02.729221", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T14:50:02.731623", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T14:50:02.732228", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T14:50:02.734644", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T14:50:02.880926", "level": "INFO", "logger": "app.db.database", "message": "Creating database pool (attempt 1/3)...", "module": "database", "function": "connect", "line": 34}
{"timestamp": "2025-11-07T14:50:03.925853", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:50:03.987345", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:50:04.661818", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool created successfully", "module": "database", "function": "connect", "line": 59}
{"timestamp": "2025-11-07T14:50:07.786460", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 335}
{"timestamp": "2025-11-07T14:50:07.907151", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 335}
{"timestamp": "2025-11-07T14:50:08.492594", "level": "ERROR", "logger": "app.services.ai_service", "message": "AI service health check failed: All connection attempts failed", "module": "ai_service", "function": "health_check", "line": 335}
{"timestamp": "2025-11-07T15:09:07.934616", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T15:09:19.382201", "level": "INFO", "logger": "app.db.database", "message": "Database connection pool closed", "module": "database", "function": "disconnect", "line": 82}
{"timestamp": "2025-11-07T15:10:26.483819", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T15:10:26.483819", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T15:10:26.485330", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T15:10:26.486511", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
{"timestamp": "2025-11-07T15:10:26.490079", "level": "INFO", "logger": "app.db", "message": "Database logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 202}
{"timestamp": "2025-11-07T15:10:26.491108", "level": "INFO", "logger": "app.api", "message": "API logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 206}
{"timestamp": "2025-11-07T15:10:26.491108", "level": "INFO", "logger": "app.services", "message": "Services logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 210}
{"timestamp": "2025-11-07T15:10:26.491108", "level": "INFO", "logger": "app.security", "message": "Security logger initialized", "module": "logging_config", "function": "setup_custom_loggers", "line": 214}
